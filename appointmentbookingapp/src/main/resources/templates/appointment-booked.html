<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Appointment Booking/doctors</title>
	<link rel="stylesheet" th:href="@{css/style.css}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
</head>

<body class="bg-black">
	<nav class="navbar navbar-dark bg-black pt-5 pb-5">
		<div class="container">
			<a href="#" class="navbar-brand"><h1>Multispeciality Hospital</h1></a>
			<button class="navbar-toggler">
				<div class="navbar-toggler-icon" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
					aria-label="Expand-navigation"></div>
			</button>
			<div class="collapse navbar-collapse" id="nav">
				<ul class="navbar-nav">
					<li class="nav-item ms-auto pt-3">
						<a th:href="@{/appointmentBookings/}" class="nav-link active" aria-current="page">Home</a>
					</li>
					<li class="nav-item ms-auto">
						<a href="#" th:href="@{/updateUser}" class="nav-link text-secondary ">Profile</a>
					</li>
					<li class="nav-item ms-auto">
						<a href="#" th:href="@{/logoutHandler}" class="nav-link text-secondary">
							<label>
								<form th:action="@{/logout}" method="post">
									<button class="btn btn-black text-secondary p-0 m-0" type="submit">Logout</button>
								</form>
							</label>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container-fluid bg-dark p-5" style="min-height: 718px;">
		<div class="row">
			<div class="col">
				<div class="container d-flex justify-content-center mb-3 pt-3 pb-4 rounded-4">
					<div class="col bg-light rounded-3 p-3">
						<h1 class="form-label text-dark text-center" th:text="'Appointment Details: '"></h1>
						<div class="row ms-5 me-5 pt-3 pb-3 border border-black rounded-3">
							<div class="ps-5" th:object="${user}">
								<h2 class="form-label mt-3" th:text="'User Name: ' + *{firstName} + ' ' + *{lastName} ">
								</h2>
								
								<br>
								<span th:each="apt : *{appointments}">
									<h3 th:text="${apt.id.doctor.firstName} + ' ' + ${apt.id.doctor.lastName} + ' (' + ${apt.id.doctor.department.dName} + ')'"></h3>
									<h3 th:text="'Date : ' + ${apt.id.date}"></h3>
									<span th:if="${apt.hour9} eq ${user.phNo}">
										<h4>Time :  9 A.M </h4>	
									</span>
									<span th:if="${apt.hour10} eq ${user.phNo}">
										<h4>Time :  10 A.M </h4>		
									</span>
									<span th:if="${apt.hour11} eq ${user.phNo}">
										<h4>Time :  11 A.M </h4>	
									</span>
									<br>
								</span>
							</div>
						</div>
						<div class="row p-5">
							<a th:href="@{ /appointmentBookings/ }">
								<button class="btn btn-dark w-100">Home</button>
							</a>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>